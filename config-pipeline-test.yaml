# LLMProxy 鉴权管道测试配置

server:
  listen: ":8000"

backends:
  - name: httpbin
    url: "http://httpbin.org"
    weight: 1

auth:
  enabled: true
  mode: first_match
  header_names:
    - Authorization
    - X-API-Key
  skip_paths:
    - /health
    - /metrics
  pipeline:
    # 静态配置方式
    - name: static_auth
      type: static
      enabled: true
      static:
        keys:
          - key: "sk-test-123"
            name: "测试 Key"
            user_id: "test_user"
            status: "active"
            total_quota: 100000
            used_quota: 0
          - key: "sk-disabled"
            name: "禁用 Key"
            user_id: "disabled_user"
            status: "disabled"
          - key: "sk-no-quota"
            name: "无额度 Key"
            user_id: "no_quota_user"
            status: "active"
            total_quota: 100
            used_quota: 100

routing:
  enabled: true
  load_balance: round_robin
  timeout: 60s

health_check:
  enabled: false

metrics:
  enabled: true
  path: /metrics
