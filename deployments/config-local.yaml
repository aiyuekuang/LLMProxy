# LLMProxy 本地测试配置

server:
  listen: ":8000"
  read_timeout: 30s
  write_timeout: 60s
  idle_timeout: 120s

log:
  level: debug
  format: text
  output: stdout

# Admin API 配置
admin:
  enabled: true
  token: "test-admin-token-12345"
  listen: ":8001"  # 单独端口
  db_path: "/home/llmproxy/data/keys.db"

# 鉴权配置
auth:
  enabled: true
  mode: first_match
  header_names:
    - Authorization
    - X-API-Key
  skip_paths:
    - /health
    - /metrics
    - /admin
  # status_codes:
  #   disabled:
  #     http_code: 403
  #     message: "Your API key has been disabled"
  #   quota_exceeded:
  #     http_code: 429
  #     message: "Your quota has been exceeded"
  #   expired:
  #     http_code: 403
  #     message: "Your API key has expired"
  pipeline:
    - name: builtin_auth
      type: builtin
      enabled: true

# 后端服务列表（测试用 - 使用 httpbin 作为模拟后端）
backends:
  - name: mock-backend
    url: "https://httpbin.org"
    weight: 1

# 路由配置
routing:
  enabled: true
  load_balance: round_robin
  timeout: 60s

# 健康检查
health_check:
  enabled: false

# 指标
metrics:
  enabled: true
  path: /metrics
